/* ============================================================================
   CLOCKWORKS PRODUCTION SITE â€” MAIN CSS (REFACTORED)
   Version: 5.1.0
   Author: Clockworks Production & Gemini
   License: MIT
   Notes: A fully tokenized, component-driven CSS architecture. This version
          introduces a dedicated .cw-card component to avoid overriding
          base framework classes, ensuring better modularity.
============================================================================ */

/* ============================================================================
   1. IMPORTS
============================================================================ */

@import url('https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css');
@import url('https://www.w3schools.com/w3css/5/w3.css');
@import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&family=Cinzel+Decorative&family=Cormorant+Garamond:wght@400;600;700&family=EB+Garamond&family=Fira+Code&family=IBM+Plex+Sans&family=Inter:wght@400;500;600&family=Roboto+Condensed:wght@400;700&family=Roboto+Slab&family=Source+Code+Pro&family=Source+Sans+Pro:wght@400;600&family=Spectral&display=swap');

/* ============================================================================
   2. DESIGN TOKENS (CSS VARIABLES)
============================================================================ */

:root {
    /* ---- Core Palette (Light) ---- */
    --cw-bg: #f5f3ef;
    --cw-bg-alt: #ebe7e2;
    --cw-surface: #ffffff;
    --cw-surface-alt: #f0ece6;
    --cw-text: #2a2a2a;
    --cw-text-dim: #5c5c5c;
    --cw-accent: #c89f43; /* Brass */
    --cw-accent-alt: #b06c3a; /* Copper */

    /* ---- Shadows & Shape (Light) ---- */
    --cw-radius: 12px;
    --cw-shadow-1: 0 4px 12px rgba(0,0,0,0.07);
    --cw-shadow-2: 0 8px 18px rgba(0,0,0,0.1);
    --cw-transition: 0.4s ease;

    /* ---- FONT SYSTEM (Light) ---- */
    --font-h1: 'Cormorant Garamond', serif;
    --font-h2: 'Roboto Slab', serif;
    --font-p: 'Source Sans Pro', sans-serif;
    --font-nav: 'Roboto Condensed', sans-serif;
    --font-footer: 'Roboto Slab', serif;
    --font-code: 'Source Code Pro', monospace;
}

[data-theme="dark"] {
    /* ---- Core Palette (Dark) ---- */
    --cw-bg: #0d0b12;
    --cw-bg-alt: #16141d;
    --cw-surface: #191721;
    --cw-surface-alt: #221f2c;
    --cw-text: #e3def7;
    --cw-text-dim: #b8b4d4;
    --cw-accent: #9f5cff; /* Arcane Core */
    --cw-accent-alt: #53ffe6; /* Arcane Flare */

    /* ---- Shadows (Dark) ---- */
    --cw-shadow-1: 0 0 18px rgba(159, 92, 255, 0.15);
    --cw-shadow-2: 0 0 30px rgba(83, 255, 230, 0.2);

    /* ---- FONT SYSTEM (Dark) ---- */
    --font-h1: 'Cinzel Decorative', serif;
    --font-h2: 'Cinzel', serif;
    --font-p: 'Inter', sans-serif;
    --font-nav: 'Cinzel', sans-serif;
    --font-footer: 'Spectral', serif;
    --font-code: 'Fira Code', monospace;
}

/* ============================================================================
   3. BASE & TYPOGRAPHY
============================================================================ */

html { box-sizing: border-box; font-size: 16px; line-height: 1.6; overflow-x: hidden; }
*, *::before, *::after { box-sizing: inherit; margin: 0; padding: 0; }

body {
    background-color: var(--cw-bg);
    color: var(--cw-text);
    font-family: var(--font-p);
    transition: background-color var(--cw-transition), color var(--cw-transition);
}

h1, .w3-h1 { font-family: var(--font-h1); font-weight: 700; font-size: 3.5rem; line-height: 1.2; }
h2, .w3-h2 { font-family: var(--font-h2); font-weight: 600; font-size: 2.5rem; }
h3, .w3-h3 { font-family: var(--font-h2); font-weight: 500; font-size: 1.75rem; }

a { color: var(--cw-accent); text-decoration: none; transition: color var(--cw-transition); }
a:hover { color: var(--cw-accent-alt); }

/* ============================================================================
   4. LAYOUT & CORE COMPONENTS
============================================================================ */

/* --- Hero Section --- */
.hero {
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    min-height: 60vh;
    padding: 2rem;
    background-color: var(--cw-bg-alt);
}

.hero-content h1 {
    margin-bottom: 1rem;
}

.hero-content .subtitle {
    font-size: 1.25rem;
    color: var(--cw-text-dim);
    max-width: 600px;
    margin: 0 auto 2rem auto;
}

/* --- Grid Layout for Cards --- */
.service-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    padding: 3rem 2rem;
}

/* --- Custom Card Component: .cw-card --- */
.cw-card {
    background-color: var(--cw-surface);
    border-radius: var(--cw-radius);
    border: 1px solid var(--cw-accent);
    transition: all var(--cw-transition);
    padding: 2rem;
    display: flex;
    flex-direction: column;
    box-shadow: var(--cw-shadow-1); /* Apply themed shadow */
}

.cw-card:hover {
    transform: translateY(-4px);
    box-shadow: var(--cw-shadow-2); /* Apply themed hover shadow */
}

.cw-card h3 {
    color: var(--cw-accent);
    margin-bottom: 1rem;
}

.cw-card p {
    flex-grow: 1; /* Allow paragraph to fill space */
}

.cw-card .w3-button {
    margin-top: 1.5rem; /* Consistent spacing above button */
    background-color: var(--cw-accent);
    color: var(--cw-bg);
    border-radius: calc(var(--cw-radius) / 2);
    transition: background-color var(--cw-transition);
}

.cw-card .w3-button:hover {
    background-color: var(--cw-accent-alt);
    color: var(--cw-bg) !important; /* Ensure text color is not overridden */
}


/* --- Navbar & Footer --- */
.nav { font-family: var(--font-nav); background-color: var(--cw-surface-alt) !important; border-bottom: 2px solid var(--cw-accent); box-shadow: var(--cw-shadow-1); }
.footer { font-family: var(--font-footer); background-color: var(--cw-surface-alt); border-top: 2px solid var(--cw-accent); padding: 2rem; text-align: center; }


/* ============================================================================
   5. UTILITIES & ANIMATIONS
============================================================================ */

/* --- Theme Toggle & Google Translate --- */
#google_translate_element_desktop, #google_translate_element_mobile { padding: 0 8px; }
.goog-te-banner-frame.skiptranslate, .goog-te-gadget-icon { display: none !important; }
body { top: 0 !important; }

/* --- Animated Background --- */
body::before {
    content: "";
    position: fixed;
    inset: 0;
    pointer-events: none;
    z-index: -1;
    opacity: 0.1;
    animation: bg-animation 120s linear infinite;
}

[data-theme="dark"] body::before { filter: brightness(0.8); }

@keyframes bg-animation {
    0% { transform: translate(0,0) rotate(0deg); }
    100% { transform: translate(20px, 10px) rotate(120deg); }
}
